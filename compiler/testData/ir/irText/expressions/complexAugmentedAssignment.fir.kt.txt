// CHECK:
//   Mangled name: X1
//   Public signature: /X1|null[0]
object X1 {
  // CHECK:
  //   Mangled name: X1#<init>(){}
  //   Public signature: /X1.<init>|-5645683436151566731[0]
  private constructor() /* primary */ {
    super/*Any*/()
    /* <init>() */

  }

  // CHECK:
  //   Mangled name: X1{}x1
  //   Public signature: /X1.x1|-8458287146120398778[0]
  var x1: Int
    field = 0
    // CHECK JVM_IR:
    //   Mangled name: X1#<get-x1>(){}kotlin.Int
    //   Public signature: /X1.x1.<get-x1>|7552224918031182012[0]
    // CHECK JS_IR:
    //   Mangled name computed from Ir:         X1#<get-x1>(){}
    //   Mangled name computed from Descriptor: X1#<get-x1>(){}
    //   Mangled name computed from Fir:        X1#<get-x1>(){}kotlin.Int
    //   Public signature: /X1.x1.<get-x1>|7552224918031182012[0]
    get
    // CHECK:
    //   Mangled name: X1#<set-x1>(kotlin.Int){}
    //   Public signature: /X1.x1.<set-x1>|6559558337863343625[0]
    set

  // CHECK:
  //   Mangled name: X1.X2
  //   Public signature: /X1.X2|null[0]
  object X2 {
    // CHECK:
    //   Mangled name: X1.X2#<init>(){}
    //   Public signature: /X1.X2.<init>|-5645683436151566731[0]
    private constructor() /* primary */ {
      super/*Any*/()
      /* <init>() */

    }

    // CHECK:
    //   Mangled name: X1.X2{}x2
    //   Public signature: /X1.X2.x2|7624999599297478649[0]
    var x2: Int
      field = 0
      // CHECK JVM_IR:
      //   Mangled name: X1.X2#<get-x2>(){}kotlin.Int
      //   Public signature: /X1.X2.x2.<get-x2>|8643944297803616344[0]
      // CHECK JS_IR:
      //   Mangled name computed from Ir:         X1.X2#<get-x2>(){}
      //   Mangled name computed from Descriptor: X1.X2#<get-x2>(){}
      //   Mangled name computed from Fir:        X1.X2#<get-x2>(){}kotlin.Int
      //   Public signature: /X1.X2.x2.<get-x2>|8643944297803616344[0]
      get
      // CHECK:
      //   Mangled name: X1.X2#<set-x2>(kotlin.Int){}
      //   Public signature: /X1.X2.x2.<set-x2>|8440745702617099146[0]
      set

    // CHECK:
    //   Mangled name: X1.X2.X3
    //   Public signature: /X1.X2.X3|null[0]
    object X3 {
      // CHECK:
      //   Mangled name: X1.X2.X3#<init>(){}
      //   Public signature: /X1.X2.X3.<init>|-5645683436151566731[0]
      private constructor() /* primary */ {
        super/*Any*/()
        /* <init>() */

      }

      // CHECK:
      //   Mangled name: X1.X2.X3{}x3
      //   Public signature: /X1.X2.X3.x3|6087740953699108933[0]
      var x3: Int
        field = 0
        // CHECK JVM_IR:
        //   Mangled name: X1.X2.X3#<get-x3>(){}kotlin.Int
        //   Public signature: /X1.X2.X3.x3.<get-x3>|8346856633438806711[0]
        // CHECK JS_IR:
        //   Mangled name computed from Ir:         X1.X2.X3#<get-x3>(){}
        //   Mangled name computed from Descriptor: X1.X2.X3#<get-x3>(){}
        //   Mangled name computed from Fir:        X1.X2.X3#<get-x3>(){}kotlin.Int
        //   Public signature: /X1.X2.X3.x3.<get-x3>|8346856633438806711[0]
        get
        // CHECK:
        //   Mangled name: X1.X2.X3#<set-x3>(kotlin.Int){}
        //   Public signature: /X1.X2.X3.x3.<set-x3>|5328650237314019083[0]
        set

    }

  }

}

// CHECK:
//   Mangled name: #test1(kotlin.IntArray){}
//   Public signature: /test1|4961304868876759524[0]
fun test1(a: IntArray) {
  var i: Int = 0
  val <array>: IntArray = a
  val <index_0>: Int = { // BLOCK
    val <unary>: Int = i
    i = <unary>.inc()
    <unary>
  }
  val <unary>: Int = <array>.get(index = <index_0>)
  <array>.set(index = <index_0>, value = <unary>.inc())
  <unary> /*~> Unit */
}

// CHECK:
//   Mangled name: #test2(){}
//   Public signature: /test2|4279114864133353152[0]
fun test2() {
  { // BLOCK
    val <unary>: Int = X1.<get-x1>()
    X1.<set-x1>(<set-?> = <unary>.inc())
    <unary>
  } /*~> Unit */
  { // BLOCK
    val <unary>: Int = X2.<get-x2>()
    X2.<set-x2>(<set-?> = <unary>.inc())
    <unary>
  } /*~> Unit */
  { // BLOCK
    val <unary>: Int = X3.<get-x3>()
    X3.<set-x3>(<set-?> = <unary>.inc())
    <unary>
  } /*~> Unit */
}

// CHECK:
//   Mangled name: B
//   Public signature: /B|null[0]
class B {
  // CHECK:
  //   Mangled name: B#<init>(kotlin.Int){}
  //   Public signature: /B.<init>|-5182794243525578284[0]
  constructor(s: Int = 0) /* primary */ {
    super/*Any*/()
    /* <init>() */

  }

  // CHECK:
  //   Mangled name: B{}s
  //   Public signature: /B.s|7217541905509134881[0]
  var s: Int
    field = s
    // CHECK JVM_IR:
    //   Mangled name: B#<get-s>(){}kotlin.Int
    //   Public signature: /B.s.<get-s>|-4647012324166823285[0]
    // CHECK JS_IR:
    //   Mangled name computed from Ir:         B#<get-s>(){}
    //   Mangled name computed from Descriptor: B#<get-s>(){}
    //   Mangled name computed from Fir:        B#<get-s>(){}kotlin.Int
    //   Public signature: /B.s.<get-s>|-4647012324166823285[0]
    get
    // CHECK:
    //   Mangled name: B#<set-s>(kotlin.Int){}
    //   Public signature: /B.s.<set-s>|-271772167961470196[0]
    set

}

// CHECK:
//   Mangled name: Host
//   Public signature: /Host|null[0]
object Host {
  // CHECK:
  //   Mangled name: Host#<init>(){}
  //   Public signature: /Host.<init>|-5645683436151566731[0]
  private constructor() /* primary */ {
    super/*Any*/()
    /* <init>() */

  }

  // CHECK:
  //   Mangled name: Host#plusAssign@B(B){}
  //   Public signature: /Host.plusAssign|2019899313104241875[0]
  operator fun B.plusAssign(b: B) {
    <this>.<set-s>(<set-?> = <this>.<get-s>().plus(other = b.<get-s>()))
  }

}

// CHECK:
//   Mangled name: #test3@Host(B){}
//   Public signature: /test3|8876438075235988874[0]
fun Host.test3(v: B) {
  (<this>, v).plusAssign(b = B(s = 1000))
}


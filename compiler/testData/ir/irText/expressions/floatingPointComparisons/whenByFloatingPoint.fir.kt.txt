// CHECK JVM_IR:
//   Mangled name: #testSimple(kotlin.Double){}kotlin.Int
//   Public signature: /testSimple|7182738722897187971[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testSimple(kotlin.Double){}
//   Mangled name computed from Descriptor: #testSimple(kotlin.Double){}
//   Mangled name computed from Fir:        #testSimple(kotlin.Double){}kotlin.Int
//   Public signature: /testSimple|7182738722897187971[0]
fun testSimple(x: Double): Int {
  return { // BLOCK
    val tmp0_subject: Double = x
    when {
      ieee754equals(arg0 = tmp0_subject, arg1 = 0.0) -> 0
      else -> 1
    }
  }
}

// CHECK JVM_IR:
//   Mangled name: #testSmartCastInWhenSubject(kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenSubject|5050233636010761247[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testSmartCastInWhenSubject(kotlin.Any){}
//   Mangled name computed from Descriptor: #testSmartCastInWhenSubject(kotlin.Any){}
//   Mangled name computed from Fir:        #testSmartCastInWhenSubject(kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenSubject|5050233636010761247[0]
fun testSmartCastInWhenSubject(x: Any): Int {
  when {
    x !is Double -> return -1
  }
  return { // BLOCK
    val tmp1_subject: Double = x /*as Double */
    when {
      ieee754equals(arg0 = tmp1_subject, arg1 = 0.0) -> 0
      else -> 1
    }
  }
}

// CHECK JVM_IR:
//   Mangled name: #testSmartCastInWhenCondition(kotlin.Double;kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenCondition|7854851848186858587[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testSmartCastInWhenCondition(kotlin.Double;kotlin.Any){}
//   Mangled name computed from Descriptor: #testSmartCastInWhenCondition(kotlin.Double;kotlin.Any){}
//   Mangled name computed from Fir:        #testSmartCastInWhenCondition(kotlin.Double;kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenCondition|7854851848186858587[0]
fun testSmartCastInWhenCondition(x: Double, y: Any): Int {
  when {
    y !is Double -> return -1
  }
  return { // BLOCK
    val tmp2_subject: Double = x
    when {
      ieee754equals(arg0 = tmp2_subject, arg1 = y /*as Double */) -> 0
      else -> 1
    }
  }
}

// CHECK JVM_IR:
//   Mangled name: #testSmartCastInWhenConditionInBranch(kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenConditionInBranch|5671837591576771954[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testSmartCastInWhenConditionInBranch(kotlin.Any){}
//   Mangled name computed from Descriptor: #testSmartCastInWhenConditionInBranch(kotlin.Any){}
//   Mangled name computed from Fir:        #testSmartCastInWhenConditionInBranch(kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastInWhenConditionInBranch|5671837591576771954[0]
fun testSmartCastInWhenConditionInBranch(x: Any): Int {
  return { // BLOCK
    val tmp3_subject: Any = x
    when {
      tmp3_subject !is Double -> -1
      ieee754equals(arg0 = tmp3_subject /*as Double */, arg1 = 0.0) -> 0
      else -> 1
    }
  }
}

// CHECK JVM_IR:
//   Mangled name: #testSmartCastToDifferentTypes(kotlin.Any;kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastToDifferentTypes|285815180648163500[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testSmartCastToDifferentTypes(kotlin.Any;kotlin.Any){}
//   Mangled name computed from Descriptor: #testSmartCastToDifferentTypes(kotlin.Any;kotlin.Any){}
//   Mangled name computed from Fir:        #testSmartCastToDifferentTypes(kotlin.Any;kotlin.Any){}kotlin.Int
//   Public signature: /testSmartCastToDifferentTypes|285815180648163500[0]
fun testSmartCastToDifferentTypes(x: Any, y: Any): Int {
  when {
    x !is Double -> return -1
  }
  when {
    y !is Float -> return -1
  }
  return { // BLOCK
    val tmp4_subject: Double = x /*as Double */
    when {
      ieee754equals(arg0 = tmp4_subject, arg1 = y /*as Float */.toDouble()) -> 0
      else -> 1
    }
  }
}

// CHECK JVM_IR:
//   Mangled name: #foo(kotlin.Double){}kotlin.Double
//   Public signature: /foo|1917451337252472224[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #foo(kotlin.Double){}
//   Mangled name computed from Descriptor: #foo(kotlin.Double){}
//   Mangled name computed from Fir:        #foo(kotlin.Double){}kotlin.Double
//   Public signature: /foo|1917451337252472224[0]
fun foo(x: Double): Double {
  return x
}

// CHECK JVM_IR:
//   Mangled name: #testWithPrematureExitInConditionSubexpression(kotlin.Any){}kotlin.Int
//   Public signature: /testWithPrematureExitInConditionSubexpression|-7044982830298293879[0]
// CHECK JS_IR:
//   Mangled name computed from Ir:         #testWithPrematureExitInConditionSubexpression(kotlin.Any){}
//   Mangled name computed from Descriptor: #testWithPrematureExitInConditionSubexpression(kotlin.Any){}
//   Mangled name computed from Fir:        #testWithPrematureExitInConditionSubexpression(kotlin.Any){}kotlin.Int
//   Public signature: /testWithPrematureExitInConditionSubexpression|-7044982830298293879[0]
fun testWithPrematureExitInConditionSubexpression(x: Any): Int {
  return { // BLOCK
    val tmp5_subject: Any = x
    when {
      EQEQ(arg0 = tmp5_subject, arg1 = foo(x = when {
        x !is Double -> return 42
        else -> x /*as Double */
      })) -> 0
      else -> 1
    }
  }
}

